(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var c=n(2),o=n.n(c),r=n(17),a=n.n(r),u=(n(23),n(8)),i=n(18),l=n(3),s=n(5),d=n.n(s),j="/api/notes",b={getAll:function(){return d.a.get(j).then((function(t){return t.data}))},create:function(t){return d.a.post(j,t).then((function(t){return t.data}))},deleteNote:function(t){return d.a.delete("".concat(j,"/").concat(t)).then((function(t){return t.data}))},update:function(t,e){var n=d.a.put("".concat(j,"/").concat(e),t);return console.log("id:",e,"obj:",t),n.then((function(t){return t.data}))}},h=n(0),f=function(t){var e=t.note,n=t.toggleImportance,c=e.important?"make not important":"make important";return Object(h.jsxs)("li",{style:{color:e.important?"red":"grey"},children:[e.content," - written on ",e.date,Object(h.jsx)("button",{onClick:function(){return n(e.id)},children:c})]})},p=function(t){var e=t.addNote,n=t.newNote,c=t.isImportant,o=t.handleChange;return Object(h.jsxs)("form",{onSubmit:e,children:[Object(h.jsxs)("label",{children:["New Note:",Object(h.jsx)("input",{type:"text",name:"newNote",value:n,onChange:o})]}),Object(h.jsxs)("label",{children:["Important",Object(h.jsx)("input",{type:"checkbox",name:"important",value:c,onChange:o})]}),Object(h.jsx)("button",{children:"Add"})]})},O=function(t){var e=t.message,n=e.includes("error")?{border:"3px solid hsla(9, 87%, 47%, 1)",background:"hsla(9, 87%, 47%, 0.6)",color:"red"}:{border:"3px solid hsla(110, 66%, 47%, 1)",background:"hsla(100, 66%, 47%, 0.6)",color:"green"};return Object(h.jsx)("div",{style:n,children:Object(h.jsx)("p",{children:e})})},m=function(t){var e=t.showAll,n=t.toggleShowAll,c=e?"Show Important":"Show All";return Object(h.jsx)("button",{onClick:n,children:c})};var g=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],o=e[1],r=Object(c.useState)(""),a=Object(l.a)(r,2),s=a[0],d=a[1],j=Object(c.useState)(!1),g=Object(l.a)(j,2),x=g[0],v=g[1],w=Object(c.useState)(!0),k=Object(l.a)(w,2),S=k[0],N=k[1],y=Object(c.useState)(null),A=Object(l.a)(y,2),I=A[0],C=A[1];Object(c.useEffect)((function(){b.getAll().then((function(t){return o(t)}))}),[]);var T=function(t){var e=n.find((function(e){return e.id===t})),c=Object(u.a)(Object(u.a)({},e),{},{important:!e.important});b.update(c,t).then((function(e){o(n.map((function(n){return n.id!==t?n:e}))),C("Note Updated"),setTimeout((function(){return C(null)}),5e3)})).catch((function(t){C("The following error occured: ".concat(t)),setTimeout((function(){return C(null)}),5e3)}))},M=S?n:n.filter((function(t){return t.important}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Bestest note app you can find"}),I&&Object(h.jsx)(O,{message:I}),Object(h.jsx)(m,{toggleShowAll:function(){N(!S)},showAll:S}),Object(h.jsx)("ul",{children:M.map((function(t){return Object(h.jsx)(f,{note:t,toggleImportance:T},t.id)}))}),Object(h.jsx)(p,{newNote:s,isImportant:x,handleChange:function(t){var e=t.target,n=e.value,c=e.type,o=e.checked;"checkbox"===c?v(o):d(n)},addNote:function(t){t.preventDefault();var e={content:s,date:new Date,important:x,id:Math.max.apply(Math,Object(i.a)(n.map((function(t){return t.id}))))+1};b.create(e).then((function(t){o(n.concat(t)),C("Note added"),setTimeout((function(){return C(null)}),5e3),d(""),v(!1)})).catch((function(t){C("The following error occured: ".concat(t)),setTimeout((function(){return C(null)}),5e3)}))}})]})};a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.f455c7cd.chunk.js.map